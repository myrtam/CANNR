<!DOCTYPE html>
<!--
CANNR TM analytics container building tool main page.
Copyright 2020 Pat Tendick ptendick@gmail.com
All rights reserved
Maintainer Pat Tendick ptendick@gmail.com
-->
<html>
<head>
<link rel="stylesheet" href="css/bootstrap.min.css">
<script src="jquery.min.js"></script>
<script src="popper.min.js"></script>
<script src="bootstrap.min.js"></script>
<!--
<script type="module" src="./uuid/index.js"></script>
-->

<link rel='stylesheet' href='css/cnr.css'>
<script src="common.js"></script>

<script src="index.js"></script>

<meta charset="UTF-8">
<title>CannR Tool</title>
</head>

<body style="background-color:#F5F5F5;">

<div class="modal fade" id="toolTitleModal" tabindex="-1" role="dialog" aria-labelledby="toolTitle" aria-hidden="true">
	<div class="modal-dialog modal-dialog-centered modal-lg" role="document">
		<div class="modal-content">
			<div class="modal-header">
			  <h4 class="modal-title" id="toolTitle">Welcome!</h5>
			  <button type="button" class="close" data-dismiss="modal" aria-label="Close">
			    <span aria-hidden="true">&times;</span>
			  </button>
			</div>
			<div class="modal-body">
				<p>
				Welcome to the CANNR<sup>TM</sup> Analytics Container Building Tool.
				The CannR tool enables you to create containerized microservices from your R or Python code.
				</p>
				<!--
					Add links to documentation, license, etc.
				-->
		    </div>
			<div class="modal-footer">
		        <button type="button" id="projectBack" class="enabled-button" data-dismiss="modal">Close</button>
		    </div>
		</div>
	</div>
</div>

<div class="top-margin">
<h2>CannR Projects</h2>
<br>
<div>
<p>Create a project to produce a container for your services.</p>
<!--
If no project, display the following:
<h3>You currently have no projects.  Would you like to add one?<h3>
-->
<button type="button" id="addProject" class="enabled-button" onclick="addProject()" autofocus>New Project...</button>
</div>
<br>
<span id='projectSelectLabel'>Projects:</span><br>
<!--
<div id="projectSelectGroup">
	<select class="form-control" id="projectSelect" onchange="onProjectSelectChange()" onclick="onProjectSelectChange()">
	</select>
</div>
-->
<select class="form-control" id="projectSelect" onchange="onProjectSelectChange()" onclick="onProjectSelectChange()">
</select>
<br>
<div>
<button type="button" id="goProjectButton" class="enabled-button" onclick='onGoProject()'>Go...</button>&nbsp;
<button type="button" id="delProjectButton" class="enabled-button" onclick='onDelProject()'>Delete</button>
</div>
<br>
<br>
<div>
<button type="button" id="configure" class="enabled-button" onclick="configure()">Configure...</button>
</div>
</div>
</body>
<script>

// Check if browser supported.  If so, launch the tool.
if (browserSupported()) {

	// Get the project name query parameter
	var params = new URLSearchParams(window.location.search);	
	var noTitle = params.get('notitle');

	if (!noTitle)
		$('#toolTitleModal').modal({});

	initDOMObjects();

	// Populate select list of projects
	getProjects();

}

</script>
</html>